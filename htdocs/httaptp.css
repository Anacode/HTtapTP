/* shared and persistent style */
[data-tap-src] { border: thin black dotted; padding: 1em }

/* pre-loading style - allow for minimal HTML */
[data-tap-src]:before        { content: 'JavaScript fail?' }
[data-tap-src][class]:before { content: normal }


/* classes & elements added by JavaScript */
[data-tap-src] pre {
  white-space: pre-wrap;
  overflow: auto;
  background: black;
  color: white;
  border: 2px grey solid;
  border-radius: 1.5ex;
  padding: 1.5ex;
}

[data-tap-src].loading {
  background: #ffa500;
}

[data-tap-src].fail {
  background: #a00000;
}

[data-tap-src].pass {
  background: #00a000;
}
[data-tap-src].pass pre {
  height: 3em;
  width: 3em;
  overflow: hidden;
  display: none;
}

[data-tap-src].show pre {
  display: block;
  position: fixed;
  top: 6em;
  left: 10%;
  right: 10%;
  bottom: 6em;
  width: auto;
  height: auto;
  overflow: auto;
}
[data-tap-src].show div.control {
  display: block;
  position: fixed;
  background: grey;
  top: 3em;
  left: 10%;
  right: 10%;
  padding: 1ex;
  width: auto;
  height: auto;
}

/* Experimental: a compact mode - requires CSS3 for :not() */
.tap-compact [data-tap-src]:not(.show),
 [data-tap-src].tap-compact:not(.show) {
  padding: 2px;
}
.tap-compact [data-tap-src]:not(.show) pre,
 [data-tap-src].tap-compact:not(.show) pre {
  display: none;
}
.tap-compact [data-tap-src]:not(.show) div.control button,
 [data-tap-src].tap-compact:not(.show) div.control button {
  display: none;
}
.tap-compact [data-tap-src]:not(.show) div.control button[data-op="Show"],
 [data-tap-src].tap-compact:not(.show) div.control button[data-op="Show"] {
  display: inline;
  font-size: 50%;
  padding: 0px;
  margin: 0px;
  border: none;
  text-decoration: underline;
  background: none;
}
